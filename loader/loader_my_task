import sys, os

sys.path.append(os.path.abspath(os.path.join(os.path.dirname(__file__), '..', 'shotgridAPI')))
from user_authenticator import UserAuthenticator
from shotgrid_connector import ShotGridConnector

class LoaderMytasktab:
    def __init__(self):
        username = "owlgrowl0v0@gmail.com"
        self.user_data = UserAuthenticator.login(username)

        self.sgc = ShotGridConnector

    def show_tasks(self):   
        if self.user_data:
            user_id = self.user_data['id']
            tasks = self.sgc.get_user_tasks(user_id)
        return tasks
